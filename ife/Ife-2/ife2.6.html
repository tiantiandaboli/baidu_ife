<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>ife2.6</title>
	<style type="text/css">
		#num ul li{
			list-style-type: none;	
			float: left;
			width: 30px;
			height: 30px;
			margin: 10px;
			background: red;
			line-height: 30px;
			color: white;
			text-align: center;
		}
	</style>

</head>
<body>
	<div>
		<textarea></textarea>>
		<input type="button" value="左侧入">
		<input type="button" value="右侧入">
		<input type="button" value="左侧出">
		<input type="button" value="右侧出">
		<input type="text" name="">
		<input type="button" value="select" onclick="sel()">
		<input type="button" value="reset" onclick="recol()">
		<p></p>
	</div>
	<div id="num">
		<ul>
			<li>44</li>
			<li>55</li>
			<li>66</li>
			<li>77</li>
		</ul>
	</div>
</body>
	<script type="text/javascript">
	(function() {
		var but = document.getElementsByTagName('input');
		    number = document.getElementsByTagName('ul')[0];
		    num_inp = document.getElementsByTagName('textarea')[0];
		    arr1 = new Array;

    num_del();

		but[0].addEventListener("click",function(){

		var patt1 = /\d+\.?(\d+)?/g;

		arr1 = num_inp.value.match(patt1);
		console.log(arr1);
		for(i=0;i<arr1.length;i++){
	  	var new_num = document.createElement("li");
	  	new_num.innerHTML =  arr1[i];
	  	number.insertBefore(new_num,number.childNodes[0]);
		}
  	},true);

		but[1].addEventListener("click",function(){

		var patt1 = /\d+\.?(\d+)?/g;

		arr1 = num_inp.value.match(patt1);
		console.log(arr1);
		for(i=0;i<arr1.length;i++){
	  	var new_num = document.createElement("li");
	  	new_num.innerHTML =  arr1[i];
	  	number.appendChild(new_num);
	  }
  	},true);

		but[2].addEventListener("click",function(){
    var left_out = document.getElementsByTagName('li')[0];
    number.removeChild(left_out);
  	},true);

		but[3].addEventListener("click",function(){
		var line = document.getElementsByTagName('li').length;
    var left_out = document.getElementsByTagName('li')[line-1];
    number.removeChild(left_out);
  	},true);

    })();

  function num_del(){
  	var num_ul = document.getElementsByTagName('ul')[0];
  	num_ul.onclick = function(ev){
  		var ev = event|| window.event;
  		var target = ev.target || ev.srcElement;
  		if(target.nodeName.toLowerCase() == 'li'){
        num_ul.removeChild(target);
      }
  	}
  }

  function sel(){
  	var num_sel = document.getElementsByTagName('input')[4].value,
  			num_arr = document.getElementsByTagName('li');
  	for(i=0;i<num_arr.length;i++){
  		var patt2 = new RegExp(num_sel);
  		if(patt2.test(num_arr[i].innerHTML)){
  			num_arr[i].style.backgroundColor = "blue";
  		}
  	}
  }

  function recol(){
  	var num_arr = document.getElementsByTagName('li');
  	for(i=0;i<num_arr.length;i++){
  		num_arr[i].style.backgroundColor = "red";
  	}
  }
	</script>
</html>